<html>

<head>
	<title>Times Table
	</title>
</head>

<style>
	body { background-color: black;
	}
	canvas { background-color: black;}
	h4 { color: white;} 
	label { color: white;}
	
</style>

<body>
	
	<div class="container-fluid bg-1 text-center">
		<h4 class="margin" id="controls">Controls</h4>		
		<button onclick="if(!isRunning){myVar=setInterval(drawTT, speed); isRunning=true;}">Play</button>
		<button onclick="if(isRunning){clearInterval(myVar); isRunning=false;}">Pause</button>
		<button onclick="factor = 1.000; if(!isRunning){drawTT();}">Restart</button>
	</div>
	<div>
		<label class="container">Low Speed
			<input type="radio" name="radio" onclick="setSpeed(20)">
			<span class="checkmark"></span>
		</label>
		<label class="container">Medium Speed
		  <input type="radio" checked="checked" name="radio" onclick="setSpeed(10)">
		  <span class="checkmark"></span>
		</label>
		<label class="container">High Speed
		  <input type="radio" name="radio" onclick="setSpeed(5)">
		  <span class="checkmark"></span>
		</label>
	</div>
	<div>
		<label class="container">Color
			<input type="checkbox" name="selectColor" onclick="dualColor=!dualColor;">
			<span class="checkmark"></span>
		</label>
	</div>
	<div class="container-fluid bg-1 text-center">
		<h4 class="margin" id="timetable">Times Table</h4>		
		<canvas id="canvas" width="500" height="500"></canvas>
	</div>
	
	
	
	<script>
		var canvas = document.getElementById("canvas");
		var speed = 10;
		var dualColor = false;
		var isRunning = false;
		var ctx = canvas.getContext("2d");
		var radius = canvas.height / 2;
		var numofpts = 200;
		var factor = 1.000;
		ctx.translate(radius, radius);
		radius = radius * 0.90
		drawCircle();
		
		function drawCircle() {
			ctx.beginPath();
			ctx.arc(0, 0, radius, 0 , 2 * Math.PI);
			ctx.strokeStyle = "white";
			ctx.stroke();
		}
		
		function drawTT() {		
			factor = factor < 100.000 ? factor + 0.001 : 1.000;
			var delta = (2 * Math.PI) / numofpts;
			ctx.translate(-radius, -radius);
			ctx.clearRect(0, 0, 600, 600);
			ctx.translate(radius, radius);
			
			
			
			for (i = 0; i < numofpts; i++) {
				var a = (i % numofpts) * delta;
				var b = ((i * factor) % numofpts) * delta;
				var pointA = CirclePoints(radius, a, [0, 0]);
				var pointB = CirclePoints(radius, b, [0, 0]);
				ctx.beginPath();
				ctx.lineWidth = "2";
				if(dualColor) {
					if (i % 2 == 0) {
						var r = parseInt(factor * 2.500);
						var g = parseInt(250 - factor * 2.500);
						ctx.strokeStyle = "rgb("+r+","+g+", 125)"; 
					} else {
						ctx.strokeStyle = "rgb("+g+","+r+", 125)"; 
					}
				} else {
					ctx.strokeStyle = "#f8f8ff";
				}
				ctx.moveTo(pointA.x, pointA.y);
				ctx.lineTo(pointB.x, pointB.y);
				ctx.stroke();
			}
			drawCircle();
		}
		
		function setSpeed(s) {
			if(isRunning) {
				clearInterval(myVar);
				myVar=setInterval(drawTT, s)
			}
			else {
				speed = s;
			}
		}
		
		function CirclePoints(radius, angle, origin) {
			var x = radius * Math.cos(angle) + origin[0];
			var y = radius * Math.sin(angle) + origin[1];
			
			return {x, y};
		}
</script>
</body>